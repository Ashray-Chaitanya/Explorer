CREATE TABLE O_RollCall (
    roll INT,
    name VARCHAR2(10)
);

CREATE TABLE N_RollCall (
    roll INT,
    name VARCHAR2(10)
);

INSERT INTO O_RollCall VALUES (1, 'bc');
INSERT INTO O_RollCall VALUES (3, 'bcd');
INSERT INTO O_RollCall VALUES (4, 'd');
INSERT INTO O_RollCall VALUES (5, 'bch');

INSERT INTO N_RollCall VALUES (1, 'bc');
INSERT INTO N_RollCall VALUES (2, 'b');
INSERT INTO N_RollCall VALUES (5, 'bch');

DECLARE
    v_count NUMBER;
    CURSOR c_new_rollcall IS
        SELECT roll, name
        FROM N_RollCall;
BEGIN
    FOR new_rec IN c_new_rollcall LOOP
        SELECT COUNT(*)
        INTO   v_count
        FROM   O_RollCall
        WHERE  roll = new_rec.roll;

        IF v_count = 0 THEN
            INSERT INTO O_RollCall (roll, name)
            VALUES (new_rec.roll, new_rec.name);
            DBMS_OUTPUT.PUT_LINE('Record inserted: ' || new_rec.roll);
        ELSE
            DBMS_OUTPUT.PUT_LINE('Record skipped: ' || new_rec.roll);
        END IF;
    END LOOP;
    COMMIT;
END;
/

SELECT * FROM N_RollCall;
SELECT * FROM O_RollCall;
